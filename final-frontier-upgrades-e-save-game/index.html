
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Final Frontier: Upgrades e Save Game</title>
    <meta name="description" content="">

    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="../favicon.ico">

    <link rel="stylesheet" type="text/css" href="../assets/css/screen.css?v=b7151a175d">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic%7COpen+Sans:700,400">

    <link rel="canonical" href="http://gamedeveloper.com.br/final-frontier-upgrades-e-save-game/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="http://gamedeveloper.com.br/final-frontier-upgrades-e-save-game/amp/">
    
    <meta property="og:site_name" content="Game Developer">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Final Frontier: Upgrades e Save Game">
    <meta property="og:description" content="Estou um pouco atrasado com este projeto, mas ele não está parado! Neste último fim de semana tive mais tempo para trabalhar no projeto, e comecei a mover algumas coisas de playground para prototype. Isto significa que a fase de experimentar coisas está chegando ao fim e que logo (eu">
    <meta property="og:url" content="http://gamedeveloper.com.br/final-frontier-upgrades-e-save-game/">
    <meta property="og:image" content="http://gamedeveloper.com.br/content/images/2016/11/inventario-itens-capa.jpg">
    <meta property="article:published_time" content="2016-11-20T02:07:00.000Z">
    <meta property="article:modified_time" content="2016-11-21T03:33:26.000Z">
    <meta property="article:tag" content="final frontier">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Final Frontier: Upgrades e Save Game">
    <meta name="twitter:description" content="Estou um pouco atrasado com este projeto, mas ele não está parado! Neste último fim de semana tive mais tempo para trabalhar no projeto, e comecei a mover algumas coisas de playground para prototype. Isto significa que a fase de experimentar coisas está chegando ao fim e que logo (eu">
    <meta name="twitter:url" content="http://gamedeveloper.com.br/final-frontier-upgrades-e-save-game/">
    <meta name="twitter:image" content="http://gamedeveloper.com.br/content/images/2016/11/inventario-itens-capa.jpg">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Bruno Cicanci">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="final frontier">
    <meta property="og:image:width" content="2710">
    <meta property="og:image:height" content="1528">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Game Developer",
        "logo": "http://gamedeveloper.com.br/content/images/2016/02/icone.png"
    },
    "author": {
        "@type": "Person",
        "name": "Bruno Cicanci",
        "image": {
            "@type": "ImageObject",
            "url": "http://gamedeveloper.com.br/content/images/2016/02/cicanci.jpg",
            "width": 512,
            "height": 512
        },
        "url": "http://gamedeveloper.com.br/author/bruno/",
        "sameAs": [
            "http://cicanci.com"
        ]
    },
    "headline": "Final Frontier: Upgrades e Save Game",
    "url": "http://gamedeveloper.com.br/final-frontier-upgrades-e-save-game/",
    "datePublished": "2016-11-20T02:07:00.000Z",
    "dateModified": "2016-11-21T03:33:26.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "http://gamedeveloper.com.br/content/images/2016/11/inventario-itens-capa.jpg",
        "width": 2710,
        "height": 1528
    },
    "keywords": "final frontier",
    "description": "Estou um pouco atrasado com este projeto, mas ele não está parado! Neste último fim de semana tive mais tempo para trabalhar no projeto, e comecei a mover algumas coisas de playground para prototype. Isto significa que a fase de experimentar coisas está chegando ao fim e que logo (eu",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://gamedeveloper.com.br"
    }
}
    </script>

    <meta name="generator" content="Ghost 0.11">
    <link rel="alternate" type="application/rss+xml" title="Game Developer" href="http://gamedeveloper.com.br/rss/">
</head>
<body class="post-template tag-final-frontier nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="index.html#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
            <li class="nav-como-comear" role="presentation"><a href="http://gamedeveloper.com.br/tag/como-programar-jogos">Como Começar</a></li>
            <li class="nav-game-dev" role="presentation"><a href="http://gamedeveloper.com.br/tag/game-dev">Game Dev</a></li>
            <li class="nav-livros" role="presentation"><a href="http://gamedeveloper.com.br/tag/livros">Livros</a></li>
            <li class="nav-meus-projetos" role="presentation"><a href="http://gamedeveloper.com.br/tag/meus-projetos">Meus Projetos</a></li>
            <li class="nav-final-frontier" role="presentation"><a href="http://gamedeveloper.com.br/tag/final-frontier">Final Frontier</a></li>
            <li class="nav-ludum-dare" role="presentation"><a href="http://gamedeveloper.com.br/tag/ludum-dare">Ludum Dare</a></li>
            <li class="nav-portfolio" role="presentation"><a href="http://cicanci.com">Portfolio</a></li>
            <li class="nav-sobre" role="presentation"><a href="http://gamedeveloper.com.br/sobre">Sobre</a></li>
    </ul>
        <a class="subscribe-button icon-feed" href="http://gamedeveloper.com.br/rss/">Subscribe</a>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        


<header class="main-header post-head " style="background-image: url(../content/images/2016/11/inventario-itens-capa.jpg)">
    <nav class="main-nav overlay clearfix">
        <a class="blog-logo" href="http://gamedeveloper.com.br"><img src="../content/images/2016/02/icone.png" alt="Game Developer"></a>
            <a class="menu-button icon-menu" href="index.html#"><span class="word">Menu</span></a>
    </nav>
</header>

<main class="content" role="main">
    <article class="post tag-final-frontier">

        <header class="post-header">
            <h1 class="post-title">Final Frontier: Upgrades e Save Game</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2016-11-20">20 November 2016</time>  on <a href="../tag/final-frontier/">final frontier</a>
            </section>
        </header>

        <section class="post-content">
            <p>Estou um pouco atrasado com este projeto, mas ele não está parado! Neste último fim de semana tive mais tempo para trabalhar no projeto, e comecei a mover algumas coisas de <code>playground</code> para <code>prototype</code>. Isto significa que a fase de experimentar coisas está chegando ao fim e que logo (eu espero!) todos os testes que fiz serão um protótipo jogável.</p>

<p><strong>Itens de Upgrade</strong></p>

<p>Existe um recurso no Unity que eu gosto muito de usar, os <a href="https://unity3d.com/pt/learn/tutorials/modules/beginner/live-training-archive/scriptable-objects">Scriptable Objects</a>. Eles são arquivos para armazenar dados gerados a partir de classes que pode ter qualquer coisa, desde que seja serializado. O vídeo abaixo é um treinamento da Unity e um excelente tutorial explicando como usar este recurso, vale a pena assistir!</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/9gscwiS3xsU" frameborder="0" allowfullscreen></iframe>

<p>Eu fiz uma classe para definir algumas características dos itens, como ID, bonus, tipo, e outras coisas que nem sei se vou usar mas coloquei para ter mais dados para testar. Também criei uma outra classe para armazenar todos os itens, assim eu posso selecionar qualquer item a partir de algum filtro usando <a href="https://msdn.microsoft.com/en-us/library/bb397906.aspx">LINQ</a>.</p>

<p><img src="../content/images/2016/11/item-attack.jpg" alt=""></p>

<p><img src="../content/images/2016/11/item-list.jpg" alt=""></p>

<p><strong>Salvando o progresso do jogo</strong></p>

<p>Ainda é cedo para o jogo ter um progresso para ser salvo, mas comecei a construir a base para poder montar o inventário baseado em um arquivo com os dados do jogador. Fiz uma classe para armazenar as informações básicas da nave, como nível, nome e classe, e uma matrix para armazenar itens por slot (10 slots na interface com 10 itens em cada). O video abaixo, também de um treinamento da Unity, é um excelente tutorial mostrando as diferenças entre usar o <code>PlayerPrefs</code> e serializar dados em uma classe.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/J6FfcJpbPXE" frameborder="0" allowfullscreen></iframe>

<p><strong>Itens na interface</strong></p>

<p>Criei um <code>prefab</code> com apenas um texto para testar adicionar os itens carregados a partir do save game na interface. Estou armazenando o ID do item como string, e usando LINQ busco por este ID na lista de scriptable objects. </p>

<p>Eu recomendo dar uma olhada no <a href="https://github.com/cicanci/game-unity-ff/tree/2de5902000b812baeefe2d1ab6a34a257c86c339">código do jogo</a> no projeto para ver como isto foi implementado. Lembrando que este código é apenas um teste, e ainda será melhorado. Abaixo está o resultado de carregar os itens na interface, o próximo passo é carregar mais itens em cada slot e permitir alterar o item ativo.</p>

<p><img src="../content/images/2016/11/intenvario-itens.jpg" alt=""></p>

<p><strong>Framework Frictioness</strong></p>

<p>O <a href="https://github.com/Claytonious/Frictionless">Frictioness</a> é um excelente framework para criar instâncias de classes como um serviço e enviar/receber mensagens. Por enquanto estou usando apenas o serviço <code>RegisterSingleton</code> para criar uma instância única da classe <code>DataManager</code>, mas em breve irei utilizar o serviço de <code>RouteMessage</code>.</p>

<p>Utilizar o Frictioness permite implementar uma maneira melhor de compartilhar instâncias e eventos pelo projeto do que referenciar ou passar objetos como parâmetros para classes static, como um singleton padrão. Nos próximos posts vou explicar mais sobre este framework e sua implementação quando adicionar mais coisas no projeto.</p>

<p><strong>Conclusão</strong></p>

<p>Se você olhar o <a href="https://github.com/cicanci/game-unity-ff">código</a> vai ver que tudo citado neste post requer um pouco mais trabalho do que parece, principalmente por eu ter desenvolvido tudo sem uma definição clara. Agora eu que estou começando a trabalhar mais no protótipo do jogo sinto a falta de ter pelo menos um <a href="https://github.com/cicanci/game-unity-ff/wiki/GDD">GDD</a> definindo algumas coisas básicas do jogo. </p>

<p>Outra coisa que me incomoda é o fato de eu ainda estar trabalhando na <a href="https://github.com/cicanci/game-unity-ff/projects/1">tarefa</a> de interface do inventário. Claro que não é um inventário simples, mas gostaria de terminar isso logo e voltar ao gameplay. Provavelmente no próximo post da série devo estar próximo de terminar a mecânica básica do inventário, e vou poder integrá-lo com o jogo.</p>

<p>O andamento do projeto pode ser conferido no <a href="https://github.com/cicanci/game-unity-ff">GitHub</a>, e neste <a href="https://github.com/cicanci/game-unity-ff/tree/2de5902000b812baeefe2d1ab6a34a257c86c339">link</a> você pode ver as alterações no projeto até este post. Todos os posts desta série sobre meu projeto podem ser vistos na tag <a href="http://gamedeveloper.com.br/tag/final-frontier/">Final Frontier</a>, e como sempre qualquer sugestão ou opinião é bem vinda!</p>
            <div id="disqus_thread"></div>
            <script>
            /**
            * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
            * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
            */
            /*
            var disqus_config = function () {
            this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
            this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
            };
            */
            (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');

            s.src = '//gamedeveloper.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
            })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
        </section>

        <footer class="post-footer">


            <figure class="author-image">
                <a class="img" href="../author/bruno/" style="background-image: url(../content/images/2016/02/cicanci.jpg)"><span class="hidden">Bruno Cicanci's Picture</span></a>
            </figure>

            <section class="author">
                <h4><a href="../author/bruno/">Bruno Cicanci</a></h4>

                    <p>Read <a href="../author/bruno/">more posts</a> by this author.</p>
                <div class="author-meta">
                    
                    <span class="author-link icon-link"><a href="http://cicanci.com">http://cicanci.com</a></span>
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/intent/tweet?text=Final%20Frontier%3A%20Upgrades%20e%20Save%20Game&amp;url=http://gamedeveloper.com.br/final-frontier-upgrades-e-save-game/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://gamedeveloper.com.br/final-frontier-upgrades-e-save-game/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://gamedeveloper.com.br/final-frontier-upgrades-e-save-game/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>


        </footer>

    </article>
</main>

<aside class="read-next">
    <a class="read-next-story " style="background-image: url(../content/images/2016/12/engines-capa.jpg)" href="../engines-frameworks-open-source-github/">
        <section class="post">
            <h2>Engines e frameworks open source no GitHub</h2>
            <p>O GitHub é uma ótima plataforma para versionamento de projetos com código aberto usando git, mas ele não é…</p>
        </section>
    </a>
    <a class="read-next-story prev " style="background-image: url(../content/images/2016/11/code-revision-capa.jpg)" href="../revisao-de-codigo/">
        <section class="post">
            <h2>Revisão de código</h2>
            <p>Esta é uma prática muito comum em empresas de médio e grande porte, mas na minha opinião poderia ser…</p>
        </section>
    </a>
</aside>



        <footer class="site-footer clearfix">
            <section class="copyright"><a href="http://gamedeveloper.com.br">Game Developer</a> © 2016</section>
            <section class="poweredby">Proudly published with <a href="https://ghost.org">Ghost</a></section>
        </footer>

    </div>

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5271840-6', 'auto');
  ga('send', 'pageview');

</script>
    <script type="text/javascript" src="../assets/js/jquery.fitvids.js?v=b7151a175d"></script>
    <script type="text/javascript" src="../assets/js/index.js?v=b7151a175d"></script>

</body>
