<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="Blog">
    <meta name="author" content="Game Developer">
    <link rel="icon" href="http://localhost:4000/favicon.ico">

    <title>Game Developer | Programando PONG com HTML5 e Javascript</title>

    <!-- Bootstrap core CSS -->
    <link href="http://localhost:4000/css/bootstrap.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="http://localhost:4000/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="http://localhost:4000/css/blog.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="http://localhost:4000/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Font Awesome -->
    <link rel="stylesheet" href="http://localhost:4000/css/font-awesome.min.css">
  </head>

  <body>

    <div class="blog-header">
  <div class="col-sm-6 blog-title">
    <a href="http://localhost:4000"><img class="blog-logo" src="http://localhost:4000/img/logo_heylika.png" alt="hey, Lika" /></a>
  </div>
  <div class="col-sm-6 blog-title-social">
    <a class="blog-social" href="https://www.facebook.com/GameDeveloperBlog" target="_blank"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a>
    <a class="blog-social" href="http://twitter.com/cicanci" target="_blank"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a>
    <a class="blog-social" href="https://www.bloglovin.com/blogs/gamedeveloper-14224145" target="_blank"><i class="fa fa-plus fa-2x" aria-hidden="true"></i></a>
    <a class="blog-social" href="https://www.youtube.com/channel/UC2vCGD4eJkNwTMXMvFLT_nQ" target="_blank"><i class="fa fa-youtube-play fa-2x" aria-hidden="true"></i></a>
    <a class="blog-social" href="https://br.pinterest.com/cicanci" target="_blank"><i class="fa fa-pinterest-p fa-2x" aria-hidden="true"></i></a>
    <a class="blog-social blog-social-right" href="https://www.instagram.com/cicanci" target="_blank"><i class="fa fa-instagram fa-2x" aria-hidden="true"></i></a>
  </div>
</div>

<nav class="blog-nav">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="glyphicon glyphicon-menu-hamburger"></span>
      </button>
      <!-- <a class="navbar-brand" href="http://localhost:4000"><img src="http://localhost:4000/img/logo_heylika.png" alt="hey, Lika" /></a> -->
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li ><a class="blog-nav-item blog-nav-item-margin" href="http://localhost:4000/category/beauty">BEAUTY</a></li>
        <li ><a class="blog-nav-item blog-nav-item-margin" href="http://localhost:4000/category/diary">DIARY</a></li>
        <li ><a class="blog-nav-item blog-nav-item-margin" href="http://localhost:4000/category/lookbook">LOOKBOOK</a></li>
        <li ><a class="blog-nav-item" href="http://localhost:4000/category/places">PLACES</a></li>
      </ul>
      <form class="navbar-form navbar-right" role="search" action="http://localhost:4000/busca" method="get">
        <div class="input-group">
          <input class="blog-nav-input form-control" type="search" id="search-box" name="query" placeholder="SEARCH">
          <div class="input-group-btn">
            <button class="btn btn-link" type="submit"><i class="glyphicon glyphicon-search"></i></button>
          </div>
        </div>
      </form>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

<!--
<nav class="blog-nav">
  <ul class="nav nav-justified">
    <li ><a class="blog-nav-item" href="http://localhost:4000/category/beauty">BEAUTY</a></li>
    <li ><a class="blog-nav-item" href="http://localhost:4000/category/diary">DIARY</a></li>
    <li ><a class="blog-nav-item" href="http://localhost:4000/category/lookbook">LOOKBOOK</a></li>
    <li ><a class="blog-nav-item" href="http://localhost:4000/category/places">PLACES</a></li>
  </ul>
  <form class="navbar-form navbar-right" role="search" action="http://localhost:4000/busca" method="get">
    <div class="input-group">
      <input class="blog-nav-input form-control" type="search" id="search-box" name="query" placeholder="SEARCH">
      <div class="input-group-btn">
        <button class="btn btn-link" type="submit"><i class="glyphicon glyphicon-search"></i></button>
      </div>
    </div>
  </form>
</nav> -->


    <div class="container">

      <div class="row">

        <div class="col-sm-8 blog-main">
        <p class="blog-post-title blog-post-offset">Programando PONG com HTML5 e Javascript</p>
<p class="blog-post-info blog-post-offset">
  
  16th
    
  January
  1970

  
</p>



<p>Esta é mais uma série de posts nova no blog para ser um complemento da “Como ser um programador de jogos”. Lá eu escrevo sobre vários aspectos, muitos teóricos, sobre a formação e aprendizagem para se tornar um programador de jogos. Aqui vou mostrar programação de jogos, mas sempre com o jogo PONG.</p>

<p>Por que sempre o PONG? A ideia é mostrar desenvolvimento de jogos com diversas tecnologias e em várias plataformas, por isso sempre irei mostrar como programar o mesmo jogo, assim ficará mais clara a complexidade de uma determinada tecnologia em relação a outra. Outro motivo também é que o PONG é um jogo relativamente simples de programar, e todo mundo conhece!</p>

<p>Neste primeiro post vou mostrar como programar o PONG utilizando o canvas do HTML5 e código em Javascript. Todo o código comentado (que não é muito grande) está disponível no link no final do post. Aqui vou destacar apenas algumas partes mais importantes em relação ao canvas do HTML5 e algumas partes mais complexas do Javascript. Na conclusão deste post irei falar minha opinião sobre usar esta tecnologia para desenvolver jogos.</p>

<h1 id="introduo">Introdução</h1>

<p>O HTML5 surgiu há alguns anos com a proposta de adicionar mais interatividade à páginas web, querendo inclusive substituir o Flash como recurso multimedia. O HTML5 é um padrão que ainda está sendo implementado pelos navegadores, então alguns recursos podem ter funcionamento diferente em cada navegador, mas o básico já tem em todos.</p>

<p>Existem muitas bibliotecas javascript para desenvolver jogos, aplicativos e sites com HTML5 em javascript, mas neste post vou mostrar como fazer um PONG apenas utilizando recursos do HTML5 e Javascript “puro”, sem nada externo.</p>

<p>Para desenvolver com HTML5 e Javascript você precisa apenas de um aplicativo de bloco de notas e navegadores. Eu recomendo o <a href="http://www.sublimetext.com/2" title="Sublime">Sublime Text 2</a> para programar (tem versões para Windows e MacOSX) e pelo menos alguns navegadores mais usados para testar (Internet Explorer, Chrome, Firefox, Safari e Opera). Não precisa ter todos, mas pelo menos mais de um é recomendado.</p>

<h1 id="pong">PONG</h1>

<p><img src="http://gamedeveloper.com.br/blog/wp-content/uploads/2013/08/Screen-Shot-2013-08-21-at-10.51.33.png" alt="" title="PONG" /></p>

<p>O código do jogo é bem simples, para começar precisamos definir o nosso canvas do HTML5. O tamanho está definido para termos uma área fixa, assim fica mais fácil fazer este exemplo, caso contrário o código ficaria bem mais complexo para fazer o jogo ser adaptável a qualquer tamanho.</p>

<canvas id="canvas" width="600" height="480"></canvas>

<p>Com isso já podemos começar a brincar com o Javascript. Não vou adicionar todo o código aqui, como a inicialização das variáveis, mas você poderá ver o código completo no link no final do post. Uma parte importante da inicialização é adicionar os eventos para receber uma notificação quando uma tecla for pressionada e quando for solta. Este exemplo é baseado nas teclados de seta pra cima e para baixo do teclado. Outro evento importante é o setInterval, que executará uma função de game loop a cada 30 frames.</p>

<p>document.addEventListener(‘keyup’, keyUp, false); document.addEventListener(‘keydown’, keyDown, false); setInterval(gameLoop, 30);</p>

<p>Existem três partes principais no game loop relacionados a lógica do jogo: Jogador, Oponente e a Bola. Vamos primeiro ao jogador, que é mais simples, ele se move com o movimento das teclas.</p>

<p>if (jogadorParaCima) { if (jogadorPosY &gt; 0) { jogadorPosY -= velocidadeJogador; } } else { if (jogadorPosY &lt; (canvas.height - barraHeight)) { jogadorPosY += velocidadeJogador; } }</p>

<p>O comportamento do oponente é praticamente o mesmo, a única diferença é que o seu movimento é constante, e não depende das teclas pressionadas para se deslocar para cima e para baixo, respeitando os limites da tela.</p>

<p>if (oponenteParaCima) { oponentePosY -= velocidadeOponente; if (oponentePosY = canvas.height - barraHeight) { oponenteParaCima = true; } }</p>

<p>Por fim temos a bola, que é um pouco mais complexa pois existe a verificação da colisão dos jogadores com ela, e isso faz seu deslocamento ser invertido. Este código é maior, porém suas verificações são simples para determinar se alguém encostou na bola. Se a posição da bola estiver contida na posição do jogar, a movimentação da bola é invertida, e também é aplicada uma transformação matemática aleatória para que o seu angulo ao ser rebatida seja variado.</p>

<p>if ((bolaPosX - 10) jogadorPosY) &amp;&amp; (bolaPosY - 10 &lt; jogadorPosY + barraHeight)) { bolaParaDireita = true; if (jogadorParaCima) { bolaAngulo = Math.floor(Math.random() * 10) - 9; } else { bolaAngulo = Math.floor((Math.random() * 10)); } } } else if ((bolaPosX - 10) &gt; (oponentePosX - barraWidth)) { if ((bolaPosY + 10 &gt; oponentePosY) &amp;&amp; (bolaPosY - 10 &lt; oponentePosY + barraHeight)) { bolaParaDireita = false; if (oponenteParaCima) { bolaAngulo = Math.floor(Math.random() * 10) - 9; } else { bolaAngulo = Math.floor((Math.random() * 10)); } } } if ((bolaPosY - 10 canvas.height)) { bolaAngulo = bolaAngulo * -1; } bolaPosY += bolaAngulo; if (bolaParaDireita) { bolaPosX += velocidadeBola; } else { bolaPosX -= velocidadeBola; }</p>

<p>A lógica do PONG é bem simples, e será sempre parecida em todos os posts desta série, sendo a única diferença a tecnologia utilizada. Outro detalhe importante neste post é que não existem imagens para os jogadores e a bolinha, tudo foi desenhado no próprio código Javascript utilizando recursos do canvas do HTML5, como demonstrado abaixo.</p>

<p><code class="highlighter-rouge">// Jogador e Oponente 
context.fillRect(jogadorPosX, jogadorPosY, barraWidth, barraHeight); context.fillRect(oponentePosX, oponentePosY, barraWidth, barraHeight); 
// Bola 
context.beginPath(); 
context.arc(bolaPosX, bolaPosY, bolaDiametro, 0, Math.PI * 2, true); context.closePath(); 
context.fill();</code></p>

<p>Por fim, temos mais pedaços de código responsáveis por exibir o placar, desenhar as linhas e os jogadores, contar a pontuação (basicamente é só verificar se a posição da bolinha está fora do canvas), entre outros detalhes que estão comentados no código completo no link abaixo.</p>

<p><a href="https://github.com/GameDevBlog/game-html5-pong" title="PONG">Clique aqui para baixar o código completo!</a></p>

<p>Conclusão</p>

<p>Pode parecer que a única novidade é a marcação <canvas>, mas por trás disso o HTML5 implementa muitas melhorias de desempenho e gráficas, além de definir melhor o padrão para desenvolvimento web. Existem bibliotecas que podem reduzir muito o código aqui mostrado, mas a ideia era mostrar como fazer apensa utilizando o que já está disponível por padrão nos navegadores.</canvas></p>

<p>A vantagem de fazer exemplos e testes com os recursos do HTML5 é que você acaba aprendendo mais do que usando direto uma biblioteca, que vai ocultar muitas dessas coisas para simplificar o seu trabalho.</p>

<p>Outra vantagem é que, por ser HTML, você pode rodar isso em qualquer coisa que tenha um navegador (PC, celulares, tablets, video games, etc). Existem muitos aplicativos mobile que são, na verdade, uma “casca” com um código que executa um HTML dentro do aplicativo.</p>

<p>Espero que tenham gostado! Estou ansioso para o próximo post desta série!</p>



<div class="row">
  <img class="blog-post-signature" src="http://localhost:4000/img/post_signature.png" alt="Lika" />
</div>

<div class="row">
  <p class="blog-post-related">Related</p>
</div>

<div class="row blog-post-footer-line">
  
  <div class="col-sm-4">
    <p>
      <a href="/1970/01/18/postmortem-2016/">Postmortem de 2016</a>
    </p>
    <p class="blog-post-footer-tag">
      
    </p>
  </div>
  
  <div class="col-sm-4">
    <p>
      <a href="/1970/01/18/final-frontier-algumas-mudancas-no-projeto/">Final Frontier: Algumas mudanças no projeto</a>
    </p>
    <p class="blog-post-footer-tag">
      
    </p>
  </div>
  
  <div class="col-sm-4">
    <p>
      <a href="/1970/01/18/mercado-de-games-2016/">Mercado de games no Brasil em 2016</a>
    </p>
    <p class="blog-post-footer-tag">
      
    </p>
  </div>
  
</div>

<div class="row">
  <img class="blog-post-footer" src="http://localhost:4000/img/post_footer.png" alt="New and old?" />
</div>

<div id="disqus_thread"></div>
<script>
/**
* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//felizassim.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


<br/>

        </div><!-- /.blog-main -->

        <div class="col-sm-4 blog-sidebar">
        <div class="sidebar-module">
  <h4 class="sidebar-module-title">Recent Posts</h4>
  <ol class="list-unstyled">
    
      <li class="sidebar-module-posts"><a href="/1970/01/18/postmortem-2016/">Postmortem de 2016</a></li>
    
      <li class="sidebar-module-posts"><a href="/1970/01/18/final-frontier-algumas-mudancas-no-projeto/">Final Frontier: Algumas mudanças no projeto</a></li>
    
      <li class="sidebar-module-posts"><a href="/1970/01/18/mercado-de-games-2016/">Mercado de games no Brasil em 2016</a></li>
    
      <li class="sidebar-module-posts"><a href="/1970/01/18/ludum-dare-37/">Minha participação no Ludum Dare #37</a></li>
    
      <li class="sidebar-module-posts"><a href="/1970/01/18/esta-semana-comeca-o-ludum-dare-37/">Esta semana começa o Ludum Dare #37</a></li>
    
  </ol>
</div>
<div class="sidebar-module sidebar-module-offset">
  <h4 class="sidebar-module-title">Daily Pictures</h4>
  <blockquote class="instagram-media" data-instgrm-captioned data-instgrm-version="7" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:50.0% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div> <p style=" margin:8px 0 0 0; padding:0 4px;"> <a href="https://www.instagram.com/p/86P7Euqujo/" style=" color:#000; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none; word-wrap:break-word;" target="_blank">Estréia do meu canal: Lika 🎉😄😊😘❤️</a></p> <p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;">Uma foto publicada por Lika (@heylika) em <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2015-10-16T19:25:45+00:00">Out 16, 2015 às 12:25 PDT</time></p></div></blockquote>
  <script async defer src="//platform.instagram.com/en_US/embeds.js"></script>
</div>
<div class="sidebar-module">
  <h4 class="sidebar-module-title">Latest Video</h4>
  <div class="sidebar-youtube">
    <iframe class="sidebar-youtube-video" src="https://www.youtube.com/embed/lrDI5YnEPhA" frameborder="0" allowfullscreen></iframe>
  </div>
</div>

        </div><!-- /.blog-sidebar -->

      </div><!-- /.row -->

    </div><!-- /.container -->

    <footer class="blog-footer">
  <div class="row footer-signature">
    <img src="http://localhost:4000/img/footer_subtitle.png" alt="And now I'll do what's best for me" />
  </div>

  <div class="row footer-row footer-link footer-social">
    <div class="col-sm-3"></div>
    <div class="col-sm-6">
      <a class="blog-nav-item blog-nav-item-margin" href="http://localhost:4000/arquivo">ARCHIVE</a>
      <a class="blog-nav-item blog-nav-item-margin" href="http://localhost:4000/sobre">ABOUT ME</a>
      <a class="blog-nav-item" href="http://localhost:4000/legal">LEGAL</a>
    </div>
    <div class="col-sm-3"></div>
  </div>

  <div class="row footer-row footer-social">
    <a class="blog-social-footer" href="https://www.facebook.com/GameDeveloperBlog" target="_blank"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a>
    <a class="blog-social-footer" href="http://twitter.com/cicanci" target="_blank"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a>
    <a class="blog-social-footer" href="https://www.bloglovin.com/blogs/gamedeveloper-14224145" target="_blank"><i class="fa fa-plus fa-lg" aria-hidden="true"></i></a>
    <a class="blog-social-footer" href="https://www.youtube.com/channel/UC2vCGD4eJkNwTMXMvFLT_nQ" target="_blank"><i class="fa fa-youtube-play fa-lg" aria-hidden="true"></i></a>
    <a class="blog-social-footer" href="https://br.pinterest.com/cicanci" target="_blank"><i class="fa fa-pinterest-p fa-lg" aria-hidden="true"></i></a>
    <a class="blog-social-footer" href="https://www.instagram.com/cicanci" target="_blank"><i class="fa fa-instagram fa-lg" aria-hidden="true"></i></a>
  </div>

  <div class="footer-copyright footer-row">
    All content copyright &copy; 2015 - 2016 hey, Lika, unless otherwise noted.
  </div>
</footer>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://localhost:4000/js/jquery.min.js"></script>
    <script src="http://localhost:4000/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="http://localhost:4000/js/ie10-viewport-bug-workaround.js"></script>

  </body>
</html>
