<!DOCTYPE html>
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="Blog">
    <meta name="author" content="Game Developer">
    <link rel="icon" href="http://localhost:4000/favicon.ico">

    <title>Game Developer | Final Frontier: Raycast, Spawn e MoSCoW</title>

    <!-- Bootstrap core CSS -->
    <link href="http://localhost:4000/css/bootstrap.min.css" rel="stylesheet">

    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <link href="http://localhost:4000/css/ie10-viewport-bug-workaround.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="http://localhost:4000/css/blog.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy these 2 lines! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->
    <script src="http://localhost:4000/js/ie-emulation-modes-warning.js"></script>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- Font Awesome -->
    <link rel="stylesheet" href="http://localhost:4000/css/font-awesome.min.css">
  </head>

  <body>

    <div class="blog-header">
  <div class="col-sm-6 blog-title">
    <a href="http://localhost:4000"><img class="blog-logo" src="http://localhost:4000/img/logo_heylika.png" alt="hey, Lika" /></a>
  </div>
  <div class="col-sm-6 blog-title-social">
    <a class="blog-social" href="https://www.facebook.com/GameDeveloperBlog" target="_blank"><i class="fa fa-facebook fa-2x" aria-hidden="true"></i></a>
    <a class="blog-social" href="http://twitter.com/cicanci" target="_blank"><i class="fa fa-twitter fa-2x" aria-hidden="true"></i></a>
    <a class="blog-social" href="https://www.bloglovin.com/blogs/gamedeveloper-14224145" target="_blank"><i class="fa fa-plus fa-2x" aria-hidden="true"></i></a>
    <a class="blog-social" href="https://www.youtube.com/channel/UC2vCGD4eJkNwTMXMvFLT_nQ" target="_blank"><i class="fa fa-youtube-play fa-2x" aria-hidden="true"></i></a>
    <a class="blog-social" href="https://br.pinterest.com/cicanci" target="_blank"><i class="fa fa-pinterest-p fa-2x" aria-hidden="true"></i></a>
    <a class="blog-social blog-social-right" href="https://www.instagram.com/cicanci" target="_blank"><i class="fa fa-instagram fa-2x" aria-hidden="true"></i></a>
  </div>
</div>

<nav class="blog-nav">
  <div class="container-fluid">
    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
        <span class="glyphicon glyphicon-menu-hamburger"></span>
      </button>
      <!-- <a class="navbar-brand" href="http://localhost:4000"><img src="http://localhost:4000/img/logo_heylika.png" alt="hey, Lika" /></a> -->
    </div>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li ><a class="blog-nav-item blog-nav-item-margin" href="http://localhost:4000/category/beauty">BEAUTY</a></li>
        <li ><a class="blog-nav-item blog-nav-item-margin" href="http://localhost:4000/category/diary">DIARY</a></li>
        <li ><a class="blog-nav-item blog-nav-item-margin" href="http://localhost:4000/category/lookbook">LOOKBOOK</a></li>
        <li ><a class="blog-nav-item" href="http://localhost:4000/category/places">PLACES</a></li>
      </ul>
      <form class="navbar-form navbar-right" role="search" action="http://localhost:4000/busca" method="get">
        <div class="input-group">
          <input class="blog-nav-input form-control" type="search" id="search-box" name="query" placeholder="SEARCH">
          <div class="input-group-btn">
            <button class="btn btn-link" type="submit"><i class="glyphicon glyphicon-search"></i></button>
          </div>
        </div>
      </form>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>

<!--
<nav class="blog-nav">
  <ul class="nav nav-justified">
    <li ><a class="blog-nav-item" href="http://localhost:4000/category/beauty">BEAUTY</a></li>
    <li ><a class="blog-nav-item" href="http://localhost:4000/category/diary">DIARY</a></li>
    <li ><a class="blog-nav-item" href="http://localhost:4000/category/lookbook">LOOKBOOK</a></li>
    <li ><a class="blog-nav-item" href="http://localhost:4000/category/places">PLACES</a></li>
  </ul>
  <form class="navbar-form navbar-right" role="search" action="http://localhost:4000/busca" method="get">
    <div class="input-group">
      <input class="blog-nav-input form-control" type="search" id="search-box" name="query" placeholder="SEARCH">
      <div class="input-group-btn">
        <button class="btn btn-link" type="submit"><i class="glyphicon glyphicon-search"></i></button>
      </div>
    </div>
  </form>
</nav> -->


    <div class="container">

      <div class="row">

        <div class="col-sm-8 blog-main">
        <p class="blog-post-title blog-post-offset">Final Frontier: Raycast, Spawn e MoSCoW</p>
<p class="blog-post-info blog-post-offset">
  
  17th
    
  January
  1970

  
</p>



<p>Faz um mês desde o <a href="http://gamedeveloper.com.br/final-frontier-camera-e-controle/">último post</a> sobre o andamento deste projeto, mas ele não está parado. Mês passado teve o <a href="http://gamedeveloper.com.br/ludum-dare-36/">Ludum Dare #36</a> e realizei uma <a href="http://gamedeveloper.com.br/game-jams-como-fazer-um-jogo-em-48h/">palestra na USP sobre Game Jams</a>, então meu tempo livre (e os posts do blog) foram voltados a estes eventos. Agora que tudo passou, vamos voltar ao <a href="http://gamedeveloper.com.br/tag/final-frontier/">Final Frontier</a>.</p>

<p>Desta vez vou falar sobre a substituição da colisão de objetos do tiro por Raycast, uma classe para fazer Spawn de objetos usando o design pattern Prototype e o início da organização das tarefas do projeto usando o método MoSCoW.</p>

<p><strong>Substituindo colisão do tiro por Raycast</strong></p>

<p>No último post sobre o andamento do jogo eu mencionei que iria adicionar uma mira no centro da tela para o jogador ter uma noção melhor de onde está atirando. Eu adicionei, porém o tiro ficou estranho. Como a nave está em constante movimento, o tiro (que é uma bola) estava indo bem fora da mira se a nave estivesse virando. Geralmente no início do projeto do protótipo não devemos perder tempo em melhorias, mas neste caso faria toda diferença ter um tiro mais consistente.</p>

<p><img src="/content/images/2016/09/ff-shoot-1-1.jpg" alt="" /></p>

<p>Por isso decidi implementar a técnica de <a href="https://unity3d.com/pt/learn/tutorials/topics/physics/raycasting">Raycast</a> para determinar se hoje a colisão com o objeto (então explodi-lo). A Unity tem bastante coisa implementada para auxiliar no uso do Raycast, então não é algo complicado de implementar, apenas leva um tempo para ajustar. Para desenhar a linha do tiro, que seria como um laser, pesquisei como fazer e encontrei <a href="https://unity3d.com/pt/learn/tutorials/lets-try/shooting-with-raycasts">este excelente tutorial da Unity</a> (video abaixo) que cobre também como fazer o Raycast.</p>

<iframe width="640" height="360" src="https://www.youtube.com/embed/AGd16aspnPA" frameborder="0" allowfullscreen=""></iframe>

<p>O resultado final ficou muito melhor do que o tiro com as bolinhas. Não é algo final, talvez eu mude isto mesmo durante o protótipo, mas agora está mais consistente para eu poder continuar desenvolvendo o jogo, principalmente para adicionar novos objetos para serem destruídos. O video abaixo também é uma ótima referencia para o uso de Raycast na Unity.</p>

<iframe width="640" height="360" src="https://www.youtube.com/embed/mpxim8YbsMk" frameborder="0" allowfullscreen=""></iframe>

<p><strong>Spawner de objetos com prototype</strong></p>

<p>Agora que o tiro está bem melhor, decidi adicionar mais objetos para o jogador atirar. Por enquanto ainda estou utilizando a mesma caixa do início do projeto, porém criei um spawn aleatório. No momento limitei para gerar 10 grupos contendo 4 caixas (2x2) ao redor da nave, em qualquer direção. Antes estava usando um grupo de 9 caixas (3x3) e o frame rate caia demais na explosão, e por ser apenas um teste não vale a pena perder tempo nisso agora, então reduzi para menos caixas (que depois vai ser um asteroide ou algum outro objeto no espaço).</p>

<p><img src="/content/images/2016/09/ff-shoot-2-1.jpg" alt="" /></p>

<p>O spawn de objetos é algo muito simples de fazer utilizando o design pattern <a href="http://gameprogrammingpatterns.com/prototype.html">Prototype</a>, principalmente na Unity onde o protótipo é um prefab. Utilizei o mesmo conceito em alguns jogos que fiz usando Unity em dois <a href="http://gamedeveloper.com.br/tag/ludum-dare/">Ludum Dare</a>, então copiei o código de lá e adicionei ao projeto.</p>

<p>Reaproveitar código de outros projetos, mesmo classes pequenas como esta que utilizei, ajudam a ganhar tempo por dois motivos: não perder tempo escrevendo o código e não perder tempo testando o código. É sempre bom ter alguns códigos prontos e, de preferência, escritos para serem reaproveitados em diferentes projetos. Algo ainda mais sofisticado seria criar módulos ou plugins (no caso da Unity), muitas empresas fazem isto para reaproveitar códigos que podem estar em qualquer projeto. Por isso, sempre é bom seguir o princípio <a href="http://gamedeveloper.com.br/mantenha-tudo-simples/">K.I.S.S.</a></p>

<p><strong>Método MoSCoW</strong></p>

<p>Antes de pensar em fazer um <a href="http://gamedeveloper.com.br/game-design-document/">GDD</a>, é legal listar algumas ideias do que será o jogo. Eu fiz uma longa lista de features que gostaria de colocar no jogo, isto não significa que estão na versão final mas serão testadas durante a fase de prototipagem. Esta lista, que podemos chamar de backlog, contém diversas tarefas que podem ser <a href="http://gamedeveloper.com.br/definicao-de-prioridade-de-tarefas/">divididas em partes menores</a>. É o mesmo conceito de definir as tarefas de uma sprint no <a href="http://gamedeveloper.com.br/aprenda-o-que-e-scrum/">Scrum</a>.</p>

<p>Mais tarde vou começar a criar o GDD na <a href="https://github.com/cicanci/game-unity-ff/wiki">Wiki do projeto no GitHub</a>, além de fazer um controle das tarefas utilizando <a href="https://trello.com/">Trello</a>. Mas, por enquanto, vou utilizar papel e caneta, e um método chamado <a href="https://en.wikipedia.org/wiki/MoSCoW_method">MoSCoW</a>. Este método consiste em classificar as features ou tarefas em 4 tipos:</p>

<ul>
  <li>Must have: importante e obrigatório</li>
  <li>Should have: importante, mas não necessário</li>
  <li>Could have: desejável, mas não importante</li>
  <li>Won’t have: importante NÃO ter</li>
</ul>

<p>Isto é algo bem simples que ajuda a organizar a prioridade de tarefas, mas sem burocracias ou dependência de uma ferramenta específica. Apenas anote os itens em casa uma das classificações e pronto, ai está sua lista de tarefas organizada. A ideia do “Won’t have” é que não se deve perder tempo com as tarefas nesta classificação. Um exemplo disso seriam tarefas relacionadas a melhorias e polimentos não necessários em um protótipo.</p>

<p>Abaixo está a lista que montei para esta primeira parte do projeto desde seu início, e o número #01 indica que é a primeira lista. “Nice to have” e “Good to have” equivalem a “Should have” e “Could have”, respectivamente, e não tem o “Won’t have”. Aprendi a separar as tarefas desta maneira com um produtor quando trabalhava na EA, sem saber que isto se chamava MoSCoW (e que tinha o Won’t have).</p>

<p><img src="/content/images/2016/09/ff-tasks-01.jpg" alt="" /></p>

<p>No verso desta folha adicionei uma lista chamada “Backlog” para listar ideias que tive durante o desenvolvimento das tarefas, assim posso planejar a próxima lista considerando estas ideas como possíveis tarefas.</p>

<p><strong>Próximos Passos</strong></p>

<p>Agora que o tiro está bem melhor, e com uma mira para auxiliar sua direção, o próximo passo vai ser melhorar um pouco o movimento da nave, pois ela está saindo da tela com frequência e ficando em uma posição errada quando volta. É um detalhe que precisa ser arrumado antes de começar a pensar em adicionar features como inimigos ao protótipo. Outra coisa que quero fazer é uma interação com o planeja que está no cenário, fazendo aparecer um tela quando o jogador se aproximar do planeja e exibindo algumas ações disponíveis.</p>

<p>O andamento do projeto pode ser conferido no <a href="https://github.com/cicanci/game-unity-ff">GitHub</a> e neste <a href="https://github.com/cicanci/game-unity-ff/tree/bfd1d40aead023b34f4d908fbe034eb25101c532">link</a> você pode ver as alterações no projeto até este post. Todos os posts desta série sobre meu projeto podem ser vistos na tag <a href="http://gamedeveloper.com.br/tag/final-frontier/">Final Frontier</a>, e como sempre qualquer sugestão ou opinião é bem vinda!</p>


<div class="row">
  <img class="blog-post-signature" src="http://localhost:4000/img/post_signature.png" alt="Lika" />
</div>

<div class="row">
  <p class="blog-post-related">Related</p>
</div>

<div class="row blog-post-footer-line">
  
  <div class="col-sm-4">
    <p>
      <a href="/2017/01/02/postmortem-2016/">Postmortem de 2016</a>
    </p>
    <p class="blog-post-footer-tag">
      
    </p>
  </div>
  
  <div class="col-sm-4">
    <p>
      <a href="/1970/01/18/final-frontier-algumas-mudancas-no-projeto/">Final Frontier: Algumas mudanças no projeto</a>
    </p>
    <p class="blog-post-footer-tag">
      
    </p>
  </div>
  
  <div class="col-sm-4">
    <p>
      <a href="/1970/01/18/ludum-dare-37/">Minha participação no Ludum Dare #37</a>
    </p>
    <p class="blog-post-footer-tag">
      
    </p>
  </div>
  
</div>

<div class="row">
  <img class="blog-post-footer" src="http://localhost:4000/img/post_footer.png" alt="New and old?" />
</div>

<div id="disqus_thread"></div>
<script>
/**
* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//felizassim.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>


<br/>

        </div><!-- /.blog-main -->

        <div class="col-sm-4 blog-sidebar">
        <div class="sidebar-module">
  <h4 class="sidebar-module-title">Recent Posts</h4>
  <ol class="list-unstyled">
    
      <li class="sidebar-module-posts"><a href="/2017/01/02/postmortem-2016/">Postmortem de 2016</a></li>
    
      <li class="sidebar-module-posts"><a href="/1970/01/18/final-frontier-algumas-mudancas-no-projeto/">Final Frontier: Algumas mudanças no projeto</a></li>
    
      <li class="sidebar-module-posts"><a href="/1970/01/18/ludum-dare-37/">Minha participação no Ludum Dare #37</a></li>
    
      <li class="sidebar-module-posts"><a href="/1970/01/18/mercado-de-games-2016/">Mercado de games no Brasil em 2016</a></li>
    
      <li class="sidebar-module-posts"><a href="/1970/01/18/esta-semana-comeca-o-ludum-dare-37/">Esta semana começa o Ludum Dare #37</a></li>
    
  </ol>
</div>
<div class="sidebar-module sidebar-module-offset">
  <h4 class="sidebar-module-title">Daily Pictures</h4>
  <blockquote class="instagram-media" data-instgrm-captioned data-instgrm-version="7" style=" background:#FFF; border:0; border-radius:3px; box-shadow:0 0 1px 0 rgba(0,0,0,0.5),0 1px 10px 0 rgba(0,0,0,0.15); margin: 1px; max-width:658px; padding:0; width:99.375%; width:-webkit-calc(100% - 2px); width:calc(100% - 2px);"><div style="padding:8px;"> <div style=" background:#F8F8F8; line-height:0; margin-top:40px; padding:50.0% 0; text-align:center; width:100%;"> <div style=" background:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAMAAAApWqozAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURczMzPf399fX1+bm5mzY9AMAAADiSURBVDjLvZXbEsMgCES5/P8/t9FuRVCRmU73JWlzosgSIIZURCjo/ad+EQJJB4Hv8BFt+IDpQoCx1wjOSBFhh2XssxEIYn3ulI/6MNReE07UIWJEv8UEOWDS88LY97kqyTliJKKtuYBbruAyVh5wOHiXmpi5we58Ek028czwyuQdLKPG1Bkb4NnM+VeAnfHqn1k4+GPT6uGQcvu2h2OVuIf/gWUFyy8OWEpdyZSa3aVCqpVoVvzZZ2VTnn2wU8qzVjDDetO90GSy9mVLqtgYSy231MxrY6I2gGqjrTY0L8fxCxfCBbhWrsYYAAAAAElFTkSuQmCC); display:block; height:44px; margin:0 auto -44px; position:relative; top:-22px; width:44px;"></div></div> <p style=" margin:8px 0 0 0; padding:0 4px;"> <a href="https://www.instagram.com/p/86P7Euqujo/" style=" color:#000; font-family:Arial,sans-serif; font-size:14px; font-style:normal; font-weight:normal; line-height:17px; text-decoration:none; word-wrap:break-word;" target="_blank">Estréia do meu canal: Lika 🎉😄😊😘❤️</a></p> <p style=" color:#c9c8cd; font-family:Arial,sans-serif; font-size:14px; line-height:17px; margin-bottom:0; margin-top:8px; overflow:hidden; padding:8px 0 7px; text-align:center; text-overflow:ellipsis; white-space:nowrap;">Uma foto publicada por Lika (@heylika) em <time style=" font-family:Arial,sans-serif; font-size:14px; line-height:17px;" datetime="2015-10-16T19:25:45+00:00">Out 16, 2015 às 12:25 PDT</time></p></div></blockquote>
  <script async defer src="//platform.instagram.com/en_US/embeds.js"></script>
</div>
<div class="sidebar-module">
  <h4 class="sidebar-module-title">Latest Video</h4>
  <div class="sidebar-youtube">
    <iframe class="sidebar-youtube-video" src="https://www.youtube.com/embed/lrDI5YnEPhA" frameborder="0" allowfullscreen></iframe>
  </div>
</div>

        </div><!-- /.blog-sidebar -->

      </div><!-- /.row -->

    </div><!-- /.container -->

    <footer class="blog-footer">
  <div class="row footer-signature">
    <img src="http://localhost:4000/img/footer_subtitle.png" alt="And now I'll do what's best for me" />
  </div>

  <div class="row footer-row footer-link footer-social">
    <div class="col-sm-3"></div>
    <div class="col-sm-6">
      <a class="blog-nav-item blog-nav-item-margin" href="http://localhost:4000/arquivo">ARCHIVE</a>
      <a class="blog-nav-item blog-nav-item-margin" href="http://localhost:4000/sobre">ABOUT ME</a>
      <a class="blog-nav-item" href="http://localhost:4000/legal">LEGAL</a>
    </div>
    <div class="col-sm-3"></div>
  </div>

  <div class="row footer-row footer-social">
    <a class="blog-social-footer" href="https://www.facebook.com/GameDeveloperBlog" target="_blank"><i class="fa fa-facebook fa-lg" aria-hidden="true"></i></a>
    <a class="blog-social-footer" href="http://twitter.com/cicanci" target="_blank"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a>
    <a class="blog-social-footer" href="https://www.bloglovin.com/blogs/gamedeveloper-14224145" target="_blank"><i class="fa fa-plus fa-lg" aria-hidden="true"></i></a>
    <a class="blog-social-footer" href="https://www.youtube.com/channel/UC2vCGD4eJkNwTMXMvFLT_nQ" target="_blank"><i class="fa fa-youtube-play fa-lg" aria-hidden="true"></i></a>
    <a class="blog-social-footer" href="https://br.pinterest.com/cicanci" target="_blank"><i class="fa fa-pinterest-p fa-lg" aria-hidden="true"></i></a>
    <a class="blog-social-footer" href="https://www.instagram.com/cicanci" target="_blank"><i class="fa fa-instagram fa-lg" aria-hidden="true"></i></a>
  </div>

  <div class="footer-copyright footer-row">
    All content copyright &copy; 2015 - 2016 hey, Lika, unless otherwise noted.
  </div>
</footer>


    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="http://localhost:4000/js/jquery.min.js"></script>
    <script src="http://localhost:4000/js/bootstrap.min.js"></script>
    <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
    <script src="http://localhost:4000/js/ie10-viewport-bug-workaround.js"></script>

  </body>
</html>
