
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Melhores práticas para 2D na Unity - Parte 3</title>
    <meta name="description" content="">

    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="../favicon.ico">

    <link rel="stylesheet" type="text/css" href="../assets/css/screen.css?v=5cf565fc7e">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic%7COpen+Sans:700,400">

    <link rel="canonical" href="http://gamedeveloper.com.br/melhores-praticas-2d-unity-parte-3/">
    <meta name="referrer" content="origin">
    
    <meta property="og:site_name" content="Game Developer">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Melhores práticas para 2D na Unity - Parte 3">
    <meta property="og:description" content="Na parte 1 falei sobre dicas para reduzir o tamanho das imagens e melhores resoluções para dispositivos móveis, e na parte 2 o foco foi o plugin NGUI (mas as dicas também se aplicam ao UI da Unity) e ao...">
    <meta property="og:url" content="http://gamedeveloper.com.br/melhores-praticas-2d-unity-parte-3/">
    <meta property="og:image" content="http://gamedeveloper.com.br/content/images/2016/08/unity3d1.jpg">
    <meta property="article:published_time" content="2016-08-11T02:19:47.021Z">
    <meta property="article:modified_time" content="2016-08-11T03:36:12.575Z">
    <meta property="article:tag" content="game dev">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Melhores práticas para 2D na Unity - Parte 3">
    <meta name="twitter:description" content="Na parte 1 falei sobre dicas para reduzir o tamanho das imagens e melhores resoluções para dispositivos móveis, e na parte 2 o foco foi o plugin NGUI (mas as dicas também se aplicam ao UI da Unity) e ao...">
    <meta name="twitter:url" content="http://gamedeveloper.com.br/melhores-praticas-2d-unity-parte-3/">
    <meta name="twitter:image:src" content="http://gamedeveloper.com.br/content/images/2016/08/unity3d1.jpg">
    
    <script type="application/ld+json">
{
    "@context": "http://schema.org",
    "@type": "Article",
    "publisher": "Game Developer",
    "author": {
        "@type": "Person",
        "name": "Bruno Cicanci",
        "image": "http://gamedeveloper.com.br/content/images/2016/02/cicanci.jpg",
        "url": "http://gamedeveloper.com.br/author/bruno",
        "sameAs": "http://cicanci.com",
        "description": null
    },
    "headline": "Melhores práticas para 2D na Unity - Parte 3",
    "url": "http://gamedeveloper.com.br/melhores-praticas-2d-unity-parte-3/",
    "datePublished": "2016-08-11T02:19:47.021Z",
    "dateModified": "2016-08-11T03:36:12.575Z",
    "image": "http://gamedeveloper.com.br/content/images/2016/08/unity3d1.jpg",
    "keywords": "game dev",
    "description": "Na parte 1 falei sobre dicas para reduzir o tamanho das imagens e melhores resoluções para dispositivos móveis, e na parte 2 o foco foi o plugin NGUI (mas as dicas também se aplicam ao UI da Unity) e ao..."
}
    </script>

    <meta name="generator" content="Ghost 0.7">
    <link rel="alternate" type="application/rss+xml" title="Game Developer" href="http://gamedeveloper.com.br/rss/">
</head>
<body class="post-template tag-game-dev nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="index.html#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
            <li class="nav-como-comear" role="presentation"><a href="http://gamedeveloper.com.br/tag/como-programar-jogos">Como Começar</a></li>
            <li class="nav-game-dev" role="presentation"><a href="http://gamedeveloper.com.br/tag/game-dev">Game Dev</a></li>
            <li class="nav-livros" role="presentation"><a href="http://gamedeveloper.com.br/tag/livros">Livros</a></li>
            <li class="nav-meus-projetos" role="presentation"><a href="http://gamedeveloper.com.br/tag/meus-projetos">Meus Projetos</a></li>
            <li class="nav-final-frontier" role="presentation"><a href="http://gamedeveloper.com.br/tag/final-frontier">Final Frontier</a></li>
            <li class="nav-ludum-dare" role="presentation"><a href="http://gamedeveloper.com.br/tag/ludum-dare">Ludum Dare</a></li>
            <li class="nav-portfolio" role="presentation"><a href="http://cicanci.com">Portfolio</a></li>
            <li class="nav-sobre" role="presentation"><a href="http://gamedeveloper.com.br/sobre">Sobre</a></li>
    </ul>
    <a class="subscribe-button icon-feed" href="http://gamedeveloper.com.br/rss/">Subscribe</a>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        


<header class="main-header post-head " style="background-image: url(../content/images/2016/08/unity3d1.jpg)">
    <nav class="main-nav overlay clearfix">
        <a class="blog-logo" href="http://gamedeveloper.com.br"><img src="../content/images/2016/02/icone.png" alt="Game Developer"></a>
            <a class="menu-button icon-menu" href="index.html#"><span class="word">Menu</span></a>
    </nav>
</header>

<main class="content" role="main">
    <article class="post tag-game-dev">

        <header class="post-header">
            <h1 class="post-title">Melhores práticas para 2D na Unity - Parte 3</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2016-08-10">10 August 2016</time>  on <a href="../tag/game-dev/">game dev</a>
            </section>
        </header>

        <section class="post-content">
            <p>Na <a href="http://gamedeveloper.com.br/melhores-praticas-2d-unity-parte-1">parte 1</a> falei sobre dicas para reduzir o tamanho das imagens e melhores resoluções para dispositivos móveis, e na <a href="http://gamedeveloper.com.br/melhores-praticas-2d-unity-parte-2">parte 2</a> o foco foi o plugin <a href="https://www.assetstore.unity3d.com/en/#!/content/2413">NGUI</a> (mas as dicas também se aplicam ao UI da Unity) e ao uso de sprite sheets. Desta vez o foco serão melhores práticas de programação para jogos 2D na Unity.</p>

<p>Apesar de ter o foco em 2D, boa parte do conteúdo deste post abrange jogos em 3D na Unity também. No site da Unity existe uma categoria de <a href="http://unity3d.com/pt/learn/tutorials/topics/best-practices">Melhores Práticas</a> excelente, falando de física, assets e UI. </p>

<p><strong>O Update</strong></p>

<p>Quando criamos um novo script na Unity, por padrão os métodos <code>Start()</code> e <code>Update()</code> são adicionados ao código. O maior problema é não dar atenção a este detalhe, pois muitos programadores deixam estes métodos mesmo vazios no script, e isto pode fazer diferença no desempenho do jogo dependendo da quantidade de scripts sendo usados.</p>

<p>Internamente a Unity executa todos os <code>Update()</code> que encontra nos scripts ativos na cena do jogo, mesmo eles estando vazios. Este <a href="http://blogs.unity3d.com/2015/12/23/1k-update-calls">artigo</a> publicado no blog da Unity explica este problema em maiores detalhes. Se você não for utilizar o método, simplesmente remova do seu código. O <code>Start()</code> não faz muita diferença, mas o <code>Update()</code> pode reduzir o seu frame rate significativamente, principalmente em dispositivos móveis.</p>

<p>Imagens e sprite sheets de jogos 2D podem ocupar mais espaço em disco e memória do que modelos 3D com textura, o que pode exigir um processamento extra do hardware que pode ser adquirido seguindo boas práticas como esta mencionada acima.</p>

<p><strong>A Física</strong></p>

<p>A Unity possui uma versão 2D para praticamente todo componente disponível no 3D, e mesmo sendo otimizado pode exigir bastante processamento do hardware se existirem muitos objetos na cena. Se eu não me engano, mesmo que o objeto não esteja sendo desenhado na tela, sua física continua ativa para verificações de colisão fora da tela. Se no seu jogo existem muitos objetos colidindo ao mesmo tempo em uma cena podemos desabilitar a física (ou mesmo o objeto inteiro) quando ele estiver fora da tela.</p>

<p>Por exemplo, em um jogo de estratégia como StarCraft podemos "ligar" a física dos objetos quando as unidades do jogador estiverem em uma área próxima das unidades do imigo. Para evitar verificações em cada update (e poder ter o problema do tópico anterior), você pode deixar a física habilitada no líder do grupo, e fazer ele habilitar a física nos depois com um callback quando chegar na área do inimigo. É apenas uma ideia, provavelmente existe maneiras ainda melhores pra isso, mas o ponto é que muitos objetos com física ativada podem causar problemas de desempenho. </p>

<p>A <a href="http://www.defold.com">Defold</a>, uma game engine desenvolvida pela King para jogos 2D, limita o número de objetos com colisão por nível. Tive este problema quando estava desenvolvendo o jogo <a href="http://gamejolt.com/games/metaforce/141821">Metaforce</a> para o <a href="http://gamedeveloper.com.br/ludum-dare-35/">Ludum Dare #35</a>, montei o mapa inteiro com colisão para o personagem não atravessar as paredes, mas o limite da engine (que eu não sabia) me fez mudar a maneira de verificar a colisão com o cenário.</p>

<p><strong>O Loading</strong></p>

<p>Isto depende muito do jogo, mas geralmente temos duas maneiras de carregar as imagens do cenário: tudo de uma vez ou aos poucos. A vantagem de carregar tudo de uma vez é que o jogo flui sem a necessidade de fazer o load de imagens do disco para a memória durante o jogo, mas a desvantagem é que em alguns hardwares isto pode fazer o jogo usar toda memória disponível e quebrar, ou pode ser que o loading seja muito longo em aparelhos com hardware fraco.</p>

<p>Carregar aos poucos, ou <a href="https://en.wikipedia.org/wiki/Lazy_loading">Lazy Loading</a> como é conhecido, é você carregar as imagens apenas quando for necessário. Por exemplo, você não precisa carregar a arte do chefão sem saber se o jogador vai chegar no final da fase para enfrentá-lo, ou carregar todas as imagens de achievements do jogo, mesmo sendo difícil de conseguir todos na mesma fase. A vantagem disso é que você usa apenas a memória necessária para carregar as imagens que precisa no momento, e assim o loading inicial fica mais rápido e com um risco menor de quebrar o jogo em aparelhos com hardware fraco. A desvantagem é que você vai precisar escrever o código para gerenciar o loading de recursos do jogo para que sejam carregados apenas quando necessários.</p>

<p>Ah, e não se esqueça de ter uma tela de loading ou um feedback para que o jogar saiba o que está acontecendo. Isto é mais Game Design do que Programação, mas vale a pena sempre pensar neste detalhes durante o desenvolvimento.</p>

<p>Esta foi a terceira e última parte sobre melhores práticas para fazer um jogo em 2D na Unity. A ideia inicial era ter publicar estes posts em sequencia, porém demorei mais de 1 ano para publicá-los. Se você quiser saber mais sobre desenvolvimento de jogos com Unity acompanhe o desenvolvimento do meu jogo <a href="http://gamedeveloper.com.br/tag/final-frontier/">Final Frontier</a>, estou escrevendo um post sobre o progresso do jogo a cada 2 semanas. </p>
            <div id="disqus_thread"></div>
            <script>
            /**
            * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
            * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
            */
            /*
            var disqus_config = function () {
            this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
            this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
            };
            */
            (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');

            s.src = '//gamedeveloper.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
            })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
        </section>

        <footer class="post-footer">


            <figure class="author-image">
                <a class="img" href="../author/bruno/" style="background-image: url(../content/images/2016/02/cicanci.jpg)"><span class="hidden">Bruno Cicanci's Picture</span></a>
            </figure>

            <section class="author">
                <h4><a href="../author/bruno/">Bruno Cicanci</a></h4>

                    <p>Read <a href="../author/bruno/">more posts</a> by this author.</p>
                <div class="author-meta">
                    
                    <span class="author-link icon-link"><a href="http://cicanci.com">http://cicanci.com</a></span>
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/intent/tweet?text=Melhores%20pr%C3%A1ticas%20para%202D%20na%20Unity%20-%20Parte%203&amp;url=http://gamedeveloper.com.br/melhores-praticas-2d-unity-parte-3/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://gamedeveloper.com.br/melhores-praticas-2d-unity-parte-3/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://gamedeveloper.com.br/melhores-praticas-2d-unity-parte-3/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>

        </footer>

    </article>
</main>

<aside class="read-next">
    <a class="read-next-story " style="background-image: url(../content/images/2016/08/geometry-world-flyer-verso.jpg)" href="../postmortem-geometry-world/">
        <section class="post">
            <h2>Postmortem: Geometry World</h2>
            <p>Eu sempre recebo e-mails pedindo para divulgar jogos, porém isto é algo que decidi desde o início do blog…</p>
        </section>
    </a>
    <a class="read-next-story prev " style="background-image: url(../content/images/2016/08/capa-ff-camera-big.jpg)" href="../final-frontier-camera-e-controle/">
        <section class="post">
            <h2>Final Frontier: Câmera e controle</h2>
            <p>No último post deste série sobre o desenvolvimento do meu jogo Final Frontier falei sobre o novo skybox e…</p>
        </section>
    </a>
</aside>



        <footer class="site-footer clearfix">
            <section class="copyright"><a href="http://gamedeveloper.com.br">Game Developer</a> © 2016</section>
            <section class="poweredby">Proudly published with <a href="https://ghost.org">Ghost</a></section>
        </footer>

    </div>

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5271840-6', 'auto');
  ga('send', 'pageview');

</script>

    <script type="text/javascript" src="../assets/js/jquery.fitvids.js?v=5cf565fc7e"></script>
    <script type="text/javascript" src="../assets/js/index.js?v=5cf565fc7e"></script>

</body>
