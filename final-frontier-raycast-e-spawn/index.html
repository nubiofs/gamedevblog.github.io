
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">

    <title>Final Frontier: Raycast, Spawn e MoSCoW</title>
    <meta name="description" content="">

    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="shortcut icon" href="../favicon.ico">

    <link rel="stylesheet" type="text/css" href="../assets/css/screen.css?v=ac98e5d9a0">
    <link rel="stylesheet" type="text/css" href="http://fonts.googleapis.com/css?family=Merriweather:300,700,700italic,300italic%7COpen+Sans:700,400">

    <link rel="canonical" href="http://gamedeveloper.com.br/final-frontier-raycast-e-spawn/">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <link rel="amphtml" href="http://gamedeveloper.com.br/final-frontier-raycast-e-spawn/amp/">
    
    <meta property="og:site_name" content="Game Developer">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Final Frontier: Raycast, Spawn e MoSCoW">
    <meta property="og:description" content="Faz um mês desde o último post sobre o andamento deste projeto, mas ele não está parado. Mês passado teve o Ludum Dare #36 e realizei uma palestra na USP sobre Game Jams, então meu tempo livre (e os posts do blog) foram voltados a estes eventos. Agora que tudo">
    <meta property="og:url" content="http://gamedeveloper.com.br/final-frontier-raycast-e-spawn/">
    <meta property="og:image" content="http://gamedeveloper.com.br/content/images/2016/09/ff-capa-shoot.jpg">
    <meta property="article:published_time" content="2016-09-08T15:07:00.000Z">
    <meta property="article:modified_time" content="2016-09-09T19:42:45.000Z">
    <meta property="article:tag" content="final frontier">
    
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Final Frontier: Raycast, Spawn e MoSCoW">
    <meta name="twitter:description" content="Faz um mês desde o último post sobre o andamento deste projeto, mas ele não está parado. Mês passado teve o Ludum Dare #36 e realizei uma palestra na USP sobre Game Jams, então meu tempo livre (e os posts do blog) foram voltados a estes eventos. Agora que tudo">
    <meta name="twitter:url" content="http://gamedeveloper.com.br/final-frontier-raycast-e-spawn/">
    <meta name="twitter:image" content="http://gamedeveloper.com.br/content/images/2016/09/ff-capa-shoot.jpg">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Bruno Cicanci">
    <meta name="twitter:label2" content="Filed under">
    <meta name="twitter:data2" content="final frontier">
    <meta property="og:image:width" content="1053">
    <meta property="og:image:height" content="592">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "Game Developer",
        "logo": "http://gamedeveloper.com.br/content/images/2016/02/icone.png"
    },
    "author": {
        "@type": "Person",
        "name": "Bruno Cicanci",
        "image": {
            "@type": "ImageObject",
            "url": "http://gamedeveloper.com.br/content/images/2016/02/cicanci.jpg",
            "width": 512,
            "height": 512
        },
        "url": "http://gamedeveloper.com.br/author/bruno/",
        "sameAs": [
            "http://cicanci.com"
        ]
    },
    "headline": "Final Frontier: Raycast, Spawn e MoSCoW",
    "url": "http://gamedeveloper.com.br/final-frontier-raycast-e-spawn/",
    "datePublished": "2016-09-08T15:07:00.000Z",
    "dateModified": "2016-09-09T19:42:45.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "http://gamedeveloper.com.br/content/images/2016/09/ff-capa-shoot.jpg",
        "width": 1053,
        "height": 592
    },
    "keywords": "final frontier",
    "description": "Faz um mês desde o último post sobre o andamento deste projeto, mas ele não está parado. Mês passado teve o Ludum Dare #36 e realizei uma palestra na USP sobre Game Jams, então meu tempo livre (e os posts do blog) foram voltados a estes eventos. Agora que tudo",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://gamedeveloper.com.br"
    }
}
    </script>

    <meta name="generator" content="Ghost 0.11">
    <link rel="alternate" type="application/rss+xml" title="Game Developer" href="http://gamedeveloper.com.br/rss/">
</head>
<body class="post-template tag-final-frontier nav-closed">

    <div class="nav">
    <h3 class="nav-title">Menu</h3>
    <a href="index.html#" class="nav-close">
        <span class="hidden">Close</span>
    </a>
    <ul>
            <li class="nav-como-comear" role="presentation"><a href="http://gamedeveloper.com.br/tag/como-programar-jogos">Como Começar</a></li>
            <li class="nav-game-dev" role="presentation"><a href="http://gamedeveloper.com.br/tag/game-dev">Game Dev</a></li>
            <li class="nav-livros" role="presentation"><a href="http://gamedeveloper.com.br/tag/livros">Livros</a></li>
            <li class="nav-meus-projetos" role="presentation"><a href="http://gamedeveloper.com.br/tag/meus-projetos">Meus Projetos</a></li>
            <li class="nav-final-frontier" role="presentation"><a href="http://gamedeveloper.com.br/tag/final-frontier">Final Frontier</a></li>
            <li class="nav-ludum-dare" role="presentation"><a href="http://gamedeveloper.com.br/tag/ludum-dare">Ludum Dare</a></li>
            <li class="nav-portfolio" role="presentation"><a href="http://cicanci.com">Portfolio</a></li>
            <li class="nav-sobre" role="presentation"><a href="http://gamedeveloper.com.br/sobre">Sobre</a></li>
    </ul>
        <a class="subscribe-button icon-feed" href="http://gamedeveloper.com.br/rss/">Subscribe</a>
</div>
<span class="nav-cover"></span>


    <div class="site-wrapper">

        


<header class="main-header post-head " style="background-image: url(../content/images/2016/09/ff-capa-shoot.jpg)">
    <nav class="main-nav overlay clearfix">
        <a class="blog-logo" href="http://gamedeveloper.com.br"><img src="../content/images/2016/02/icone.png" alt="Game Developer"></a>
            <a class="menu-button icon-menu" href="index.html#"><span class="word">Menu</span></a>
    </nav>
</header>

<main class="content" role="main">
    <article class="post tag-final-frontier">

        <header class="post-header">
            <h1 class="post-title">Final Frontier: Raycast, Spawn e MoSCoW</h1>
            <section class="post-meta">
                <time class="post-date" datetime="2016-09-08">08 September 2016</time>  on <a href="../tag/final-frontier/">final frontier</a>
            </section>
        </header>

        <section class="post-content">
            <p>Faz um mês desde o <a href="http://gamedeveloper.com.br/final-frontier-camera-e-controle/">último post</a> sobre o andamento deste projeto, mas ele não está parado. Mês passado teve o <a href="http://gamedeveloper.com.br/ludum-dare-36/">Ludum Dare #36</a> e realizei uma <a href="http://gamedeveloper.com.br/game-jams-como-fazer-um-jogo-em-48h/">palestra na USP sobre Game Jams</a>, então meu tempo livre (e os posts do blog) foram voltados a estes eventos. Agora que tudo passou, vamos voltar ao <a href="http://gamedeveloper.com.br/tag/final-frontier/">Final Frontier</a>.</p>

<p>Desta vez vou falar sobre a substituição da colisão de objetos do tiro por Raycast, uma classe para fazer Spawn de objetos usando o design pattern Prototype e o início da organização das tarefas do projeto usando o método MoSCoW.</p>

<p><strong>Substituindo colisão do tiro por Raycast</strong></p>

<p>No último post sobre o andamento do jogo eu mencionei que iria adicionar uma mira no centro da tela para o jogador ter uma noção melhor de onde está atirando. Eu adicionei, porém o tiro ficou estranho. Como a nave está em constante movimento, o tiro (que é uma bola) estava indo bem fora da mira se a nave estivesse virando. Geralmente no início do projeto do protótipo não devemos perder tempo em melhorias, mas neste caso faria toda diferença ter um tiro mais consistente. </p>

<p><img src="../content/images/2016/09/ff-shoot-1-1.jpg" alt=""></p>

<p>Por isso decidi implementar a técnica de <a href="https://unity3d.com/pt/learn/tutorials/topics/physics/raycasting">Raycast</a> para determinar se hoje a colisão com o objeto (então explodi-lo). A Unity tem bastante coisa implementada para auxiliar no uso do Raycast, então não é algo complicado de implementar, apenas leva um tempo para ajustar. Para desenhar a linha do tiro, que seria como um laser, pesquisei como fazer e encontrei <a href="https://unity3d.com/pt/learn/tutorials/lets-try/shooting-with-raycasts">este excelente tutorial da Unity</a> (video abaixo) que cobre também como fazer o Raycast. </p>

<iframe width="640" height="360" src="https://www.youtube.com/embed/AGd16aspnPA" frameborder="0" allowfullscreen></iframe>

<p>O resultado final ficou muito melhor do que o tiro com as bolinhas. Não é algo final, talvez eu mude isto mesmo durante o protótipo, mas agora está mais consistente para eu poder continuar desenvolvendo o jogo, principalmente para adicionar novos objetos para serem destruídos. O video abaixo também é uma ótima referencia para o uso de Raycast na Unity.</p>

<iframe width="640" height="360" src="https://www.youtube.com/embed/mpxim8YbsMk" frameborder="0" allowfullscreen></iframe>

<p><strong>Spawner de objetos com prototype</strong></p>

<p>Agora que o tiro está bem melhor, decidi adicionar mais objetos para o jogador atirar. Por enquanto ainda estou utilizando a mesma caixa do início do projeto, porém criei um spawn aleatório. No momento limitei para gerar 10 grupos contendo 4 caixas (2x2) ao redor da nave, em qualquer direção. Antes estava usando um grupo de 9 caixas (3x3) e o frame rate caia demais na explosão, e por ser apenas um teste não vale a pena perder tempo nisso agora, então reduzi para menos caixas (que depois vai ser um asteroide ou algum outro objeto no espaço).</p>

<p><img src="../content/images/2016/09/ff-shoot-2-1.jpg" alt=""></p>

<p>O spawn de objetos é algo muito simples de fazer utilizando o design pattern <a href="http://gameprogrammingpatterns.com/prototype.html">Prototype</a>, principalmente na Unity onde o protótipo é um prefab. Utilizei o mesmo conceito em alguns jogos que fiz usando Unity em dois <a href="http://gamedeveloper.com.br/tag/ludum-dare/">Ludum Dare</a>, então copiei o código de lá e adicionei ao projeto. </p>

<p>Reaproveitar código de outros projetos, mesmo classes pequenas como esta que utilizei, ajudam a ganhar tempo por dois motivos: não perder tempo escrevendo o código e não perder tempo testando o código. É sempre bom ter alguns códigos prontos e, de preferência, escritos para serem reaproveitados em diferentes projetos. Algo ainda mais sofisticado seria criar módulos ou plugins (no caso da Unity), muitas empresas fazem isto para reaproveitar códigos que podem estar em qualquer projeto. Por isso, sempre é bom seguir o princípio <a href="http://gamedeveloper.com.br/mantenha-tudo-simples/">K.I.S.S.</a></p>

<p><strong>Método MoSCoW</strong></p>

<p>Antes de pensar em fazer um <a href="http://gamedeveloper.com.br/game-design-document/">GDD</a>, é legal listar algumas ideias do que será o jogo. Eu fiz uma longa lista de features que gostaria de colocar no jogo, isto não significa que estão na versão final mas serão testadas durante a fase de prototipagem. Esta lista, que podemos chamar de backlog, contém diversas tarefas que podem ser <a href="http://gamedeveloper.com.br/definicao-de-prioridade-de-tarefas/">divididas em partes menores</a>. É o mesmo conceito de definir as tarefas de uma sprint no <a href="http://gamedeveloper.com.br/aprenda-o-que-e-scrum/">Scrum</a>.</p>

<p>Mais tarde vou começar a criar o GDD na <a href="https://github.com/cicanci/game-unity-ff/wiki">Wiki do projeto no GitHub</a>, além de fazer um controle das tarefas utilizando <a href="https://trello.com/">Trello</a>. Mas, por enquanto, vou utilizar papel e caneta, e um método chamado <a href="https://en.wikipedia.org/wiki/MoSCoW_method">MoSCoW</a>. Este método consiste em classificar as features ou tarefas em 4 tipos:</p>

<ul>
<li>Must have: importante e obrigatório</li>
<li>Should have: importante, mas não necessário</li>
<li>Could have: desejável, mas não importante</li>
<li>Won't have: importante NÃO ter</li>
</ul>

<p>Isto é algo bem simples que ajuda a organizar a prioridade de tarefas, mas sem burocracias ou dependência de uma ferramenta específica. Apenas anote os itens em casa uma das classificações e pronto, ai está sua lista de tarefas organizada. A ideia do "Won't have" é que não se deve perder tempo com as tarefas nesta classificação. Um exemplo disso seriam tarefas relacionadas a melhorias e polimentos não necessários em um protótipo.</p>

<p>Abaixo está a lista que montei para esta primeira parte do projeto desde seu início, e o número #01 indica que é a primeira lista. "Nice to have" e "Good to have" equivalem a "Should have" e "Could have", respectivamente, e não tem o "Won't have". Aprendi a separar as tarefas desta maneira com um produtor quando trabalhava na EA, sem saber que isto se chamava MoSCoW (e que tinha o Won't have).</p>

<p><img src="../content/images/2016/09/ff-tasks-01.jpg" alt=""></p>

<p>No verso desta folha adicionei uma lista chamada "Backlog" para listar ideias que tive durante o desenvolvimento das tarefas, assim posso planejar a próxima lista considerando estas ideas como possíveis tarefas. </p>

<p><strong>Próximos Passos</strong></p>

<p>Agora que o tiro está bem melhor, e com uma mira para auxiliar sua direção, o próximo passo vai ser melhorar um pouco o movimento da nave, pois ela está saindo da tela com frequência e ficando em uma posição errada quando volta. É um detalhe que precisa ser arrumado antes de começar a pensar em adicionar features como inimigos ao protótipo. Outra coisa que quero fazer é uma interação com o planeja que está no cenário, fazendo aparecer um tela quando o jogador se aproximar do planeja e exibindo algumas ações disponíveis.</p>

<p>O andamento do projeto pode ser conferido no <a href="https://github.com/cicanci/game-unity-ff">GitHub</a> e neste <a href="https://github.com/cicanci/game-unity-ff/tree/bfd1d40aead023b34f4d908fbe034eb25101c532">link</a> você pode ver as alterações no projeto até este post. Todos os posts desta série sobre meu projeto podem ser vistos na tag <a href="http://gamedeveloper.com.br/tag/final-frontier/">Final Frontier</a>, e como sempre qualquer sugestão ou opinião é bem vinda!</p>
            <div id="disqus_thread"></div>
            <script>
            /**
            * RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
            * LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
            */
            /*
            var disqus_config = function () {
            this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
            this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
            };
            */
            (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');

            s.src = '//gamedeveloper.disqus.com/embed.js';

            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
            })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
        </section>

        <footer class="post-footer">


            <figure class="author-image">
                <a class="img" href="../author/bruno/" style="background-image: url(../content/images/2016/02/cicanci.jpg)"><span class="hidden">Bruno Cicanci's Picture</span></a>
            </figure>

            <section class="author">
                <h4><a href="../author/bruno/">Bruno Cicanci</a></h4>

                    <p>Read <a href="../author/bruno/">more posts</a> by this author.</p>
                <div class="author-meta">
                    
                    <span class="author-link icon-link"><a href="http://cicanci.com">http://cicanci.com</a></span>
                </div>
            </section>


            <section class="share">
                <h4>Share this post</h4>
                <a class="icon-twitter" href="https://twitter.com/intent/tweet?text=Final%20Frontier%3A%20Raycast%2C%20Spawn%20e%20MoSCoW&amp;url=http://gamedeveloper.com.br/final-frontier-raycast-e-spawn/" onclick="window.open(this.href, 'twitter-share', 'width=550,height=235');return false;">
                    <span class="hidden">Twitter</span>
                </a>
                <a class="icon-facebook" href="https://www.facebook.com/sharer/sharer.php?u=http://gamedeveloper.com.br/final-frontier-raycast-e-spawn/" onclick="window.open(this.href, 'facebook-share','width=580,height=296');return false;">
                    <span class="hidden">Facebook</span>
                </a>
                <a class="icon-google-plus" href="https://plus.google.com/share?url=http://gamedeveloper.com.br/final-frontier-raycast-e-spawn/" onclick="window.open(this.href, 'google-plus-share', 'width=490,height=530');return false;">
                    <span class="hidden">Google+</span>
                </a>
            </section>


        </footer>

    </article>
</main>

<aside class="read-next">
    <a class="read-next-story " style="background-image: url(../content/images/2016/09/jogue-capa.jpg)" href="../por-que-jogar-jogos-diferentes/">
        <section class="post">
            <h2>Por que temos que jogar jogos diferentes</h2>
            <p>Isto é algo que já escrevi aqui no blog, mas recentemente percebi que eu não estava fazendo. Ultimamente tenho…</p>
        </section>
    </a>
    <a class="read-next-story prev " style="background-image: url(../content/images/2016/08/sunstone-3.jpg)" href="../ludum-dare-36/">
        <section class="post">
            <h2>Minha participação no Ludum Dare #36</h2>
            <p>Pela quinta vez consecutiva participei do Ludum Dare na competição de fazer um jogo sozinho em 48 horas. Desta…</p>
        </section>
    </a>
</aside>



        <footer class="site-footer clearfix">
            <section class="copyright"><a href="http://gamedeveloper.com.br">Game Developer</a> © 2016</section>
            <section class="poweredby">Proudly published with <a href="https://ghost.org">Ghost</a></section>
        </footer>

    </div>

    <script type="text/javascript" src="https://code.jquery.com/jquery-1.12.0.min.js"></script>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-5271840-6', 'auto');
  ga('send', 'pageview');

</script>
    <script type="text/javascript" src="../assets/js/jquery.fitvids.js?v=ac98e5d9a0"></script>
    <script type="text/javascript" src="../assets/js/index.js?v=ac98e5d9a0"></script>

</body>
